{"version":3,"file":"index.js","mappings":"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","sources":["webpack://todo-store/./src/plugins/sidebar.js","webpack://todo-store/./src/store/actions.js","webpack://todo-store/./src/store/controls.js","webpack://todo-store/./src/store/index.js","webpack://todo-store/./src/store/reducer.js","webpack://todo-store/./src/store/resolvers.js","webpack://todo-store/./src/store/selectors.js","webpack://todo-store/./src/store/type.js","webpack://todo-store/external window \"React\"","webpack://todo-store/external window [\"wp\",\"components\"]","webpack://todo-store/external window [\"wp\",\"data\"]","webpack://todo-store/external window [\"wp\",\"editPost\"]","webpack://todo-store/external window [\"wp\",\"i18n\"]","webpack://todo-store/external window [\"wp\",\"plugins\"]","webpack://todo-store/webpack/bootstrap","webpack://todo-store/webpack/runtime/compat get default export","webpack://todo-store/webpack/runtime/define property getters","webpack://todo-store/webpack/runtime/hasOwnProperty shorthand","webpack://todo-store/webpack/runtime/make namespace object","webpack://todo-store/./src/index.js"],"sourcesContent":["import { registerPlugin } from \"@wordpress/plugins\";\r\nimport { PluginSidebar } from \"@wordpress/edit-post\";\r\nimport { useSelect, useDispatch } from \"@wordpress/data\";\r\nimport { PanelBody, TextControl } from \"@wordpress/components\"\r\nimport { __ } from \"@wordpress/i18n\";\r\n\r\nconst MetaFieldInput = () => {\r\n    const subtitleValue = useSelect( (select) => {\r\n        return select('core/editor').getEditedPostAttribute('meta')._demo_block_meta_box_gutenberg_blocks; }, []);\r\n    const { editPost } = useDispatch('core/editor');\r\n    const onChangePostSubtitle = (newValue) => {\r\n        editPost({meta: {_demo_block_meta_box_gutenberg_blocks: newValue}});\r\n    }\r\n    return (\r\n        <PanelBody title={__('Post Options', 'demo-block-meta-plugin')}>\r\n            <TextControl\r\n                label={__('Post Options', 'demo-block-meta-plugin')}\r\n                value={subtitleValue}\r\n                onChange={onChangePostSubtitle}\r\n            />\r\n        </PanelBody>\r\n    );\r\n}\r\n\r\nregisterPlugin('demo-block-meta-plugin', {\r\n    render: () => {        \r\n        return (\r\n            <PluginSidebar\r\n                name=\"meta-field-sidebar\"\r\n                title={__('Post Options', 'demo-block-meta-plugin')}\r\n                icon={\"admin-settings\"}\r\n            >\r\n                <MetaFieldInput />\r\n            </PluginSidebar>\r\n        );\r\n    }\r\n})","import { ADD_TODO, POPULATED_TODOS, UPDATED_TODO } from \"./type\";\r\nimport { createTodo, toggleTodo as toggleTodoControl } from \"./controls\";\r\n\r\nexport function* addTodo(title) {\r\n    try{\r\n    const todo = yield createTodo(title);\r\n    return {\r\n        type: ADD_TODO,\r\n        todo,\r\n    };\r\n    } catch(error) {\r\n        return dispatch('core/notices').createErrorNotice(error.message || 'Data could not be created');\r\n    }\r\n};\r\n\r\nexport function* toggleTodo(todo, index) {\r\n    try{\r\n        yield updateTodo({...todo, loading: true}, index);\r\n        const updatedTodo = yield toggleTodoControl(todo);\r\n        return updateTodo(updatedTodo, index);\r\n    } catch(error) {\r\n        return dispatch('core/notices').createErrorNotice(error.message || 'Data could not updated');\r\n    }\r\n}\r\n\r\nexport const updateTodo = (todo, index) => {\r\n    return {\r\n        type: UPDATED_TODO,\r\n        todo,\r\n        index\r\n    }\r\n}\r\n\r\nexport const populatedTodos = (todos) => {\r\n    return {\r\n        type: POPULATED_TODOS,\r\n        todos,\r\n    }\r\n}","import { FETCH_TODOS, CREATE_TODO, TOGGLE_TODO } from \"./type\";\r\nexport const fetchTodos = () => {\r\n    return {\r\n        type: FETCH_TODOS,\r\n    };\r\n};\r\n\r\nexport const createTodo = (title) => {\r\n    return {\r\n        type: CREATE_TODO,\r\n        title\r\n    }\r\n}\r\n\r\nexport const toggleTodo = (todo) => {\r\n    return {\r\n        type: TOGGLE_TODO,\r\n        todo,\r\n    }\r\n}\r\n\r\nexport default {\r\n    FETCH_TODOS() {\r\n        return window\r\n        .fetch('https://jsonplaceholder.typicode.com/todos?_limit=10').then((response) => {\r\n            if (response.ok) {\r\n                return response.json();\r\n            }\r\n            throw new Error('Could not fetch todos');\r\n           \r\n        })\r\n    },\r\n    CREATE_TODO({title}) {\r\n        return window.fetch('https://jsonplaceholder.typicode.com/todos', {\r\n            method: 'POST',\r\n            body: JSON.stringify({\r\n              title,\r\n              completed: false,\r\n              userId: 1,\r\n            }),\r\n            headers: {\r\n              'Content-type': 'application/json; charset=UTF-8',\r\n            },\r\n          })\r\n            .then((response) => {\r\n                if (response.ok) {\r\n                    return response.json();\r\n                }\r\n                throw new Error('Could not create todos');\r\n            })\r\n    },\r\n    TOGGLE_TODO({todo}) {\r\n        return window.fetch(`https://jsonplaceholder.typicode.com/todos/${todo.id}`, {\r\n            method: 'PATCH',\r\n            body: JSON.stringify({\r\n              completed: !todo.completed,\r\n            }),\r\n            headers: {\r\n              'Content-type': 'application/json; charset=UTF-8',\r\n            },\r\n          })\r\n            .then((response) => {\r\n                if (response.ok) {\r\n                    return response.json();\r\n                }\r\n                throw new Error('Could not updated todos');\r\n            });\r\n    }\r\n}","import { createReduxStore, register } from \"@wordpress/data\";\r\nimport reducer from \"./reducer\";\r\nimport * as actions from \"./actions\";\r\nimport * as selectors from \"./selectors\";\r\nimport * as resolvers from \"./resolvers\";\r\nimport controls from \"./controls\";\r\n\r\nconst store = createReduxStore( 'todo-store/store', {\r\n    reducer,\r\n    actions,\r\n    selectors,\r\n    resolvers,\r\n    controls,\r\n});\r\n\r\nregister(store);","import { ADD_TODO, POPULATED_TODOS, UPDATED_TODO } from \"./type\";\r\nconst DEFAULT_STATS = {\r\n    items: [],\r\n};\r\nconst reducer = ( state = DEFAULT_STATS, action ) => {\r\n    switch (action.type) {\r\n        case ADD_TODO:\r\n            return { ...state, items: [...state.items, action.todo]}\r\n\r\n        case POPULATED_TODOS:\r\n           return { ...state, items: action.todos }\r\n           \r\n        case UPDATED_TODO:{\r\n            const itemsCopy = [...state.items];\r\n            itemsCopy[action.index] = action.todo;\r\n            return { ...state, items: itemsCopy }\r\n        }\r\n\r\n        default:\r\n            return {...state};\r\n    }\r\n};\r\n\r\nexport default reducer;","import { dispatch } from \"@wordpress/data\";\r\nimport { fetchTodos } from \"./controls\";\r\nimport { populatedTodos } from \"./actions\";\r\n\r\nexport function* getTodos() {\r\n    try {\r\n        const todos = yield fetchTodos();\r\n        return populatedTodos(todos);\r\n    } catch (error) {\r\n        return dispatch('core/notices').createErrorNotice(error.message || 'Data could not be fetched');\r\n    }\r\n}","export const getTodos = ( state ) => {\r\n    return state.items;\r\n};\r\n\r\nexport const getTodosNumbers = ( state ) => {\r\n    return state.items.length;\r\n}\r\n\r\nexport const getDoneTodosNumbers = ( state ) => {\r\n    return state.items.filter( ( todo ) => todo.completed ).length;\r\n}\r\n\r\nexport const getUndoneTodosNumbers = ( state ) => {\r\n    return state.items.filter( todo => !todo.completed ).length;\r\n} ","export const ADD_TODO = 'ADD_TODO';\r\nexport const  FETCH_TODOS = 'FETCH_TODOS';\r\nexport const POPULATED_TODOS = 'POPULATED_TODOS';\r\nexport const CREATE_TODO = 'CREATE_TODO';\r\nexport const TOGGLE_TODO = 'TOGGLE_TODO';\r\nexport const UPDATED_TODO = 'UPDATED_TODO';\r\n\r\n\r\n\r\n","module.exports = window[\"React\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"editPost\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"plugins\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import './store';\nimport './plugins/sidebar';"],"names":["registerPlugin","PluginSidebar","useSelect","useDispatch","PanelBody","TextControl","__","MetaFieldInput","subtitleValue","select","getEditedPostAttribute","_demo_block_meta_box_gutenberg_blocks","editPost","onChangePostSubtitle","newValue","meta","createElement","title","label","value","onChange","render","name","icon","ADD_TODO","POPULATED_TODOS","UPDATED_TODO","createTodo","toggleTodo","toggleTodoControl","addTodo","todo","type","error","dispatch","createErrorNotice","message","index","updateTodo","loading","updatedTodo","populatedTodos","todos","FETCH_TODOS","CREATE_TODO","TOGGLE_TODO","fetchTodos","window","fetch","then","response","ok","json","Error","method","body","JSON","stringify","completed","userId","headers","id","createReduxStore","register","reducer","actions","selectors","resolvers","controls","store","DEFAULT_STATS","items","state","action","itemsCopy","getTodos","getTodosNumbers","length","getDoneTodosNumbers","filter","getUndoneTodosNumbers"],"sourceRoot":""}